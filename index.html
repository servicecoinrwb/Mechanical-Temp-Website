<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Expert HVAC Services in Southfield & Metro Detroit | Mechanical Temp</title>
    <meta name="description" content="Mechanical Temp offers expert residential and commercial HVAC services in Southfield, MI and Metro Detroit. 24/7 emergency repair, installation, and maintenance for furnaces & AC.">
    
    <!-- =================================================================== -->
    <!-- CANONICAL TAG TO PREVENT DUPLICATE CONTENT                          -->
    <!-- =================================================================== -->
    <link rel="canonical" href="https://www.mechanicaltemp.com/" />

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "HVACBusiness",
      "name": "Mechanical Temp",
      "image": "https://i.imgur.com/YJvJw7V.png",
      "@id": "https://www.mechanicaltemp.com/",
      "url": "https://www.mechanicaltemp.com/",
      "telephone": "+1-313-282-4758",
      "priceRange": "$$",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "23093 Telegraph Rd",
        "addressLocality": "Southfield",
        "addressRegion": "MI",
        "postalCode": "48033",
        "addressCountry": "US"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 42.4982,
        "longitude": -83.2882
      },
      "openingHoursSpecification": {
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
        "opens": "00:00",
        "closes": "23:59"
      },
      "sameAs": [
        "https://www.facebook.com/your-profile",
        "https://www.yelp.com/biz/your-biz-name"
      ],
      "areaServed": {
        "@type": "GeoCircle",
        "geoMidpoint": {
          "@type": "GeoCoordinates",
          "latitude": "42.4982",
          "longitude": "-83.2882"
        },
        "geoRadius": "40233"
      } 
    }
    </script>
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Lighter background for the body */
        }
        .hero-section-container {
            background-image: url('https://images.squarespace-cdn.com/content/v1/64b8ce7983e67906ccb6616f/ad1eb7df-a94c-4108-a72b-9868d33fb7cf/truck.jpg?format=2500w');
            background-size: cover;
            background-position: center;
        }
        .hero-overlay {
            background-color: rgba(12, 26, 62, 0.85);
        }
        /* Style for the offer card price */
        .offer-price {
            background-color: #eff6ff;
            color: #1d4ed8;
        }
        /* Custom scrollbar for modal content */
        .modal-body::-webkit-scrollbar {
            width: 8px;
        }
        .modal-body::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        .modal-body::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        .modal-body::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        /* Chat Widget Styles */
        #chat-bubble {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            cursor: pointer;
            background-color: #0ea5e9; /* sky-500 */
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: transform 0.2s ease-in-out;
        }
        #chat-bubble:hover {
            transform: scale(1.1);
            background-color: #0284c7; /* sky-600 */
        }
        #chat-widget {
            position: fixed;
            bottom: 90px;
            right: 20px;
            z-index: 999;
            width: 350px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transition: opacity 0.3s ease, transform 0.3s ease;
            transform-origin: bottom right;
        }
         #chat-widget.hidden {
            opacity: 0;
            transform: scale(0.9);
            pointer-events: none;
        }
        .chat-header {
            background-color: #0c4a6e; /* sky-900 */
            color: white;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .chat-header h3 {
            font-weight: bold;
            font-size: 1.125rem;
        }
        #close-chat-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        .chat-body {
            padding: 1rem;
            background-color: #f1f5f9; /* slate-100 */
            color: #475569; /* slate-600 */
            font-size: 0.9rem;
        }
        .chat-footer {
            padding: 1rem;
            border-top: 1px solid #e2e8f0; /* slate-200 */
        }
        #chat-input {
            width: 100%;
            border: 1px solid #cbd5e1; /* slate-300 */
            border-radius: 8px;
            padding: 0.75rem;
            resize: none;
        }
        #send-chat-btn {
            width: 100%;
            margin-top: 0.5rem;
            background-color: #0ea5e9; /* sky-500 */
            color: white;
            font-weight: bold;
            padding: 0.75rem;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        #send-chat-btn:hover {
            background-color: #0284c7; /* sky-600 */
        }
        #send-chat-btn:disabled {
            background-color: #94a3b8; /* slate-400 */
            cursor: not-allowed;
        }
        #chat-confirmation {
            text-align: center;
            font-weight: bold;
            color: #16a34a; /* green-600 */
            padding: 0.5rem;
            background-color: #dcfce7; /* green-100 */
            border-radius: 6px;
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- HEADER & NAVIGATION -->
    <header class="bg-gray-900/80 sticky top-0 z-40 p-4 shadow-md">
        <nav class="container mx-auto flex justify-between items-center text-white">
            <a href="index.html" class="block">
                <img src="https://i.imgur.com/YJvJw7V.png" alt="Mechanical Temp Logo" class="h-12 w-auto">
            </a>
            <!-- Desktop Menu -->
            <ul class="hidden md:flex items-center space-x-6">
                <li><a href="#services" class="hover:text-sky-400">Services</a></li>
                <li><a href="service-plan.html" class="hover:text-sky-400">Service Plan</a></li>
                <li><a href="#offers" class="hover:text-sky-400">Offers</a></li>
                <li><a href="#about" class="hover:text-sky-400">About Us</a></li>
                <li><a href="blog.html" class="hover:text-sky-400">Blog</a></li>
            </ul>
            <!-- Mobile Menu Button -->
            <button id="mobile-menu-btn" class="md:hidden">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden absolute top-full left-0 w-full bg-gray-900">
            <ul class="flex flex-col items-center text-white p-4">
                <li class="w-full text-center py-2"><a href="#services" class="hover:text-sky-400 mobile-link">Services</a></li>
                <li class="w-full text-center py-2"><a href="service-plan.html" class="hover:text-sky-400 mobile-link">Service Plan</a></li>
                <li class="w-full text-center py-2"><a href="#offers" class="hover:text-sky-400 mobile-link">Offers</a></li>
                <li class="w-full text-center py-2"><a href="#about" class="hover:text-sky-400 mobile-link">About Us</a></li>
                <li class="w-full text-center py-2"><a href="blog.html" class="hover:text-sky-400 mobile-link">Blog</a></li>
            </ul>
        </div>
    </header>

    <!-- HERO SECTION -->
    <section class="min-h-screen hero-section-container -mt-[88px] pt-[88px]"> <!-- Offset for sticky header -->
        <div class="min-h-screen hero-overlay flex items-center justify-center text-center p-6 text-white">
            <div>
                <h1 class="text-4xl md:text-6xl font-black uppercase tracking-wider mb-4">
                    Premier HVAC Services in Southfield & Metro Detroit
                </h1>
                <p class="max-w-3xl mx-auto text-lg md:text-xl text-slate-300 mb-8">
                    Your trusted local experts for <strong>furnace and air conditioner repair, installation, and maintenance</strong>. We provide reliable residential and commercial solutions to keep you comfortable year-round.
                </p>
                <button onclick="openScheduler()" class="bg-sky-500 hover:bg-sky-600 text-white font-bold py-3 px-8 rounded-lg text-lg inline-block transition-transform hover:scale-105">
                    Schedule Service Now
                </button>
            </div>
        </div>
    </section>

    <!-- SERVICES SECTION -->
    <section id="services" class="bg-white py-20 px-6">
        <div class="container mx-auto text-center">
            <h2 class="text-3xl md:text-4xl font-bold mb-2">Our Core HVAC Services</h2>
            <p class="max-w-2xl mx-auto text-slate-600 mb-12">From emergency repairs to new system installations, we have you covered.</p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Service 1: Heating -->
                <div class="bg-slate-50 p-8 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
                    <h3 class="text-2xl font-bold mb-3">Heating & Furnace Services</h3>
                    <p class="text-slate-600 mb-4">Expert furnace repair, maintenance, and installation to keep your Michigan home warm all winter.</p>
                    <a href="furnace-services.html" class="text-sky-600 font-bold hover:underline">Learn More ‚Üí</a>
                </div>
                <!-- Service 2: Cooling -->
                <div class="bg-slate-50 p-8 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
                    <h3 class="text-2xl font-bold mb-3">Air Conditioning Services</h3>
                    <p class="text-slate-600 mb-4">Fast AC repair, tune-ups, and new air conditioner installation for total summer comfort.</p>
                    <a href="ac-services.html" class="text-sky-600 font-bold hover:underline">Learn More ‚Üí</a>
                </div>
                <!-- Service 3: Commercial -->
                <div class="bg-slate-50 p-8 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
                    <h3 class="text-2xl font-bold mb-3">Commercial HVAC</h3>
                    <p class="text-slate-600 mb-4">Reliable and efficient HVAC solutions for businesses, offices, and commercial properties in Metro Detroit.</p>
                     <a href="commercial-hvac.html" class="text-sky-600 font-bold hover:underline">Learn More ‚Üí</a>
                </div>
            </div>
        </div>
    </section>

    <!-- SYSTEM SELECTOR CTA -->
    <section class="bg-slate-50 py-20 px-6">
        <div class="container mx-auto text-center max-w-3xl">
            <h2 class="text-3xl md:text-4xl font-bold">Time for a New System?</h2>
            <p class="max-w-2xl mx-auto text-slate-600 mt-4 mb-8 text-lg">Use our interactive System Selector tool to find the perfect furnace or air conditioner for your home's unique needs and get a free, personalized estimate.</p>
            <a href="system-selector.html" class="bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-10 rounded-lg text-xl inline-block transition-transform hover:scale-105">
                Find My Perfect System
            </a>
        </div>
    </section>

    <!-- WHY CHOOSE US SECTION -->
    <section id="about" class="bg-gray-800 py-20 px-6 text-white">
        <div class="container mx-auto text-center">
            <h2 class="text-3xl md:text-4xl font-bold mb-12">The Mechanical Temp Difference</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                <div>
                    <h3 class="text-xl font-bold text-sky-400 mb-2">24/7 Emergency Service</h3>
                    <p class="text-slate-300">HVAC emergencies don't wait. We're here for you day or night for urgent furnace and AC repairs.</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold text-sky-400 mb-2">Certified Technicians</h3>
                    <p class="text-slate-300">Our team is licensed, insured, and highly trained to service all major brands and models.</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold text-sky-400 mb-2">Local & Trusted</h3>
                    <p class="text-slate-300">As a Southfield-based company, we're proud to serve our neighbors throughout Metro Detroit with honesty and integrity.</p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- BRANDS WE TRUST -->
    <section class="bg-white py-20 px-6">
        <div class="container mx-auto text-center max-w-4xl">
             <h2 class="text-3xl md:text-4xl font-bold">Brands We Trust</h2>
             <p class="max-w-2xl mx-auto text-slate-600 mt-2 mb-6">We are proud to be an authorized dealer for industry-leading brands known for their reliability and performance.</p>
             <div class="mt-6 flex justify-center">
                 <a href="https://www.airquestcomfort.com/en/us/" target="_blank" rel="noopener noreferrer" class="block p-4 bg-white border border-gray-200 rounded-lg shadow-sm text-center transition-all duration-300 hover:shadow-lg hover:scale-105">
                    <img src="https://www.airquestcomfort.com/en/us/media_1b3a4194f19a94470a5646ca094daaaee0fa85e00.png?width=2000&format=webply&optimize=medium" alt="AirQuest Authorized Dealer Logo" class="h-16 mx-auto">
                    <p class="text-xs font-bold text-sky-700 uppercase tracking-wider mt-2">Authorized Dealer</p>
                 </a>
            </div>
        </div>
    </section>

    <!-- "TESTIMONIALS" SECTION -->
    <section id="testimonials" class="bg-slate-50 py-20 px-6">
        <div class="container mx-auto text-center">
            <h2 class="text-3xl md:text-4xl font-bold mb-2">What Our Customers Are Saying</h2>
            <p class="max-w-2xl mx-auto text-slate-600 mb-12">We're proud to have earned the trust of homeowners and businesses across Metro Detroit.</p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
                <!-- Testimonial 1 -->
                <div class="bg-white p-8 rounded-lg shadow-md flex flex-col text-left">
                    <div class="flex mb-4">
                        <!-- 5 Star Rating -->
                        <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                    </div>
                    <p class="text-slate-600 italic flex-grow">"Great professional work and advice.. great competitive price and very happy with response... one word Phenomenal"</p>
                    <p class="font-bold text-gray-800 mt-4">- Chirag R M., Southfield, MI</p>
                </div>

                <!-- Testimonial 2 -->
                <div class="bg-white p-8 rounded-lg shadow-md flex flex-col text-left">
                    <div class="flex mb-4">
                        <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                    </div>
                    <p class="text-slate-600 italic flex-grow">"It was a pleasure doing business with Mechanical Temp. They were professional, courteous and even showed up a half hour early. If you are looking for a new HVAC company I would give them a call."</p>
                    <p class="font-bold text-gray-800 mt-4">- Jason B., Novi, MI</p>
                </div>

                <!-- Testimonial 3 -->
                <div class="bg-white p-8 rounded-lg shadow-md flex flex-col text-left">
                    <div class="flex mb-4">
                        <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                    </div>
                    <p class="text-slate-600 italic flex-grow">"Excellent service...have used them on several occasions. Very responsive to a quick appointment"</p>
                    <p class="font-bold text-gray-800 mt-4">- D M., Canton, MI</p>
                </div>
            </div>
            <div class="mt-12">
                <a href="https://www.google.com/search?hl=en-US&gl=us&q=Mechanical+Temp,+23093+Telegraph+Rd,+Southfield,+MI+48033&ludocid=6961767730263095122&lsig=AB86z5W8I6loYhp2hKgGjj9thY9C#lrd=0x8824b434d3a9339f:0x609d2add9b1bf752,3" target="_blank" rel="noopener noreferrer" class="bg-gray-800 hover:bg-black text-white font-bold py-3 px-8 rounded-lg text-lg inline-block transition-transform hover:scale-105">
                    Leave a Review on Google
                </a>
            </div>
        </div>
    </section>

    <!-- FROM OUR BLOG SECTION -->
    <section id="blog-preview" class="bg-slate-50 py-20 px-6">
        <div class="container mx-auto text-center max-w-4xl">
            <h2 class="text-3xl md:text-4xl font-bold">From Our Blog</h2>
            <p class="max-w-2xl mx-auto text-slate-600 mt-2 mb-12">Expert advice to keep your home comfortable and your system running efficiently.</p>
            <div class="bg-white rounded-lg shadow-lg overflow-hidden flex flex-col md:flex-row max-w-3xl mx-auto group">
                <a href="blog-post-1.html" class="block md:w-1/3">
                   <img src="https://i.imgur.com/PbsVZ0K.jpeg" alt="A happy family enjoying their comfortable home thanks to a well-maintained furnace" class="w-full h-full object-cover group-hover:opacity-90 transition-opacity">
                </a>
                <div class="p-8 flex flex-col flex-grow text-left">
                     <p class="text-sm text-slate-500 mb-2">September 24, 2025 ‚Ä¢ Furnace Maintenance</p>
                     <h3 class="text-2xl font-bold mb-3">
                        <a href="blog-post-1.html" class="hover:text-sky-600 transition-colors">5 Signs Your Furnace Needs Repair This Fall</a>
                     </h3>
                     <p class="text-slate-600 mb-6 flex-grow">
                        As the leaves start to change color, it‚Äôs crucial to make sure your furnace is in top working condition. Ignoring small warning signs now can lead to a complete breakdown...
                     </p>
                     <a href="blog-post-1.html" class="text-sky-600 font-bold hover:underline self-start">Read Full Article ‚Üí</a>
                </div>
            </div>
        </div>
    </section>


    <!-- "SERVICE PLAN" CTA SECTION -->
    <section id="service-plan" class="bg-gray-800 py-20 px-6 text-white">
        <div class="container mx-auto text-center max-w-4xl">
            <h2 class="text-3xl md:text-4xl font-bold mb-4">Total Peace of Mind is Here</h2>
            <p class="text-sky-400 font-semibold text-lg uppercase tracking-wider mb-4">Introducing The Mechanical Temp Service Plan</p>
            <p class="max-w-2xl mx-auto text-slate-300 mb-8 text-lg">
                For just $55/month, you can stop worrying about unexpected HVAC breakdowns. Our comprehensive plan covers preventative maintenance, basic parts, and gives you priority service when you need it most.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-10">
                <div class="bg-gray-700 p-6 rounded-lg">
                    <h3 class="text-xl font-bold mb-2">Priority Service</h3>
                    <p class="text-slate-400">Jump to the front of the line with guaranteed faster service calls.</p>
                </div>
                <div class="bg-gray-700 p-6 rounded-lg">
                    <h3 class="text-xl font-bold mb-2">Save Money</h3>
                    <p class="text-slate-400">Includes two annual tune-ups and covers many common parts at no extra cost.</p>
                </div>
                <div class="bg-gray-700 p-6 rounded-lg">
                    <h3 class="text-xl font-bold mb-2">No Worries</h3>
                    <p class="text-slate-400">Enjoy year-round comfort knowing your system is professionally maintained.</p>
                </div>
            </div>
            <a href="service-plan.html" class="bg-sky-500 hover:bg-sky-600 text-white font-bold py-4 px-10 rounded-lg text-xl inline-block transition-transform hover:scale-105">
                Learn More & Sign Up
            </a>
        </div>
    </section>

    <!-- "CURRENT OFFERS" SECTION -->
    <section id="offers" class="bg-white py-20 px-6">
        <div class="container mx-auto text-center">
            <h2 class="text-3xl md:text-4xl font-bold mb-2">Current HVAC Offers</h2>
            <p class="max-w-2xl mx-auto text-slate-600 mb-12">Save on your next service. Mention the offer when you call to book!</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                <!-- Offer 1: AC Tune-Up -->
                <div class="bg-white rounded-lg shadow-lg border-2 border-sky-500 text-center p-8 flex flex-col">
                    <div class="w-16 h-16 mx-auto bg-sky-100 rounded-full flex items-center justify-center mb-4"><svg class="w-8 h-8 text-sky-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" /></svg></div>
                    <h3 class="text-2xl font-bold text-gray-800">Furnace Tune-Up Special</h3>
                    <p class="text-5xl font-black text-sky-600 my-3">$69</p>
                    <p class="text-slate-600 flex-grow">Get your Furnace ready for winter with our comprehensive 21-point inspection and tune-up.</p>
                    <button onclick="openScheduler()" class="bg-sky-500 hover:bg-sky-600 text-white font-bold py-3 px-6 rounded-lg text-lg inline-block mt-6 transition-transform hover:scale-105">
                        Schedule My Tune-Up
                    </button>
                </div>
                <!-- Offer 2: New System Discount -->
                <div class="bg-white rounded-lg shadow-lg border-2 border-orange-500 text-center p-8 flex flex-col">
                    <div class="w-16 h-16 mx-auto bg-orange-100 rounded-full flex items-center justify-center mb-4"><svg class="w-8 h-8 text-orange-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.362-1.44m3.362-2.946V7.5a2.25 2.25 0 00-2.25-2.25H12A2.25 2.25 0 009.75 7.5v1.138M15.362 5.214a2.252 2.252 0 01-1.232 2.146l-2.25.75a2.25 2.25 0 01-2.332 0l-2.25-.75a2.252 2.252 0 01-1.232-2.146V6.75A2.25 2.25 0 016.75 4.5h.75a2.25 2.25 0 012.25 2.25v.375m3.362 2.946a2.25 2.25 0 012.25-2.25h.75a2.25 2.25 0 012.25 2.25v.375m-3.362 2.946a2.25 2.25 0 01-2.25.75h-1.5a2.25 2.25 0 01-2.25-.75" /></svg></div>
                    <h3 class="text-2xl font-bold text-gray-800">New System Discount</h3>
                    <p class="text-5xl font-black text-orange-600 my-3">$500 OFF</p>
                    <p class="text-slate-600 flex-grow">Save big on a new high-efficiency furnace or air conditioner installation. Free estimate included.</p>
                     <button onclick="openScheduler()" class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-lg text-lg inline-block mt-6 transition-transform hover:scale-105">
                        Get My Free Estimate
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- SERVICE AREA SECTION -->
    <section id="locations" class="bg-white py-20 px-6">
        <div class="container mx-auto text-center">
            <h2 class="text-3xl md:text-4xl font-bold mb-4">Proudly Serving Metro Detroit</h2>
            <p class="max-w-2xl mx-auto text-slate-600 mb-8">We provide fast and reliable heating and cooling services to the following communities and more:</p>
            <div class="flex flex-wrap justify-center gap-x-6 gap-y-2 max-w-4xl mx-auto font-medium text-slate-700">
                <a href="southfield.html" class="hover:text-sky-500 underline">Southfield</a> ‚Ä¢ 
                <a href="dearborn.html" class="hover:text-sky-500 underline">Dearborn</a> ‚Ä¢ 
                <a href="livonia.html" class="hover:text-sky-500 underline">Livonia</a> ‚Ä¢ 
                <a href="novi.html" class="hover:text-sky-500 underline">Novi</a> ‚Ä¢ 
                <a href="canton.html" class="hover:text-sky-500 underline">Canton</a> ‚Ä¢ 
                <a href="plymouth.html" class="hover:text-sky-500 underline">Plymouth</a> ‚Ä¢ 
                <a href="northville.html" class="hover:text-sky-500 underline">Northville</a> ‚Ä¢ 
                <a href="westland.html" class="hover:text-sky-500 underline">Westland</a> ‚Ä¢ 
                <a href="farmington-hills.html" class="hover:text-sky-500 underline">Farmington Hills</a> ‚Ä¢ 
                <a href="redford.html" class="hover:text-sky-500 underline">Redford</a>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="bg-gray-900 pt-16 pb-8 px-6 text-white">
        <div class="container mx-auto text-center text-slate-400">
            <h3 class="text-2xl font-bold text-white mb-4">Ready for Total Comfort?</h3>
            <p class="mb-6">Contact Mechanical Temp today for a free, no-obligation estimate on your HVAC needs.</p>
            <button onclick="openScheduler()" class="bg-sky-500 hover:bg-sky-600 text-white font-bold py-3 px-8 rounded-lg text-lg inline-block transition-transform hover:scale-105 mb-10">
                Schedule Service Now
            </button>
            <div class="border-t border-slate-700 pt-6">
                <p class="font-bold text-white">Mechanical Temp</p>
                <p>23093 Telegraph Rd, Southfield, MI 48033</p>
                <div class="space-y-1 my-2">
                     <p>Call Us: <a href="tel:+13132824758" class="hover:text-sky-400">(313) 282-4758</a></p>
                     <p>
                        <a href="https://buy.stripe.com/bIY01kg5K3zD5I4fYY" target="_blank" rel="noopener noreferrer" class="text-sky-400 hover:text-sky-300 font-semibold inline-flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                              <path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z" />
                              <path fill-rule="evenodd" d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm3 0a1 1 0 011-1h1a1 1 0 110 2H8a1 1 0 01-1-1z" clip-rule="evenodd" />
                            </svg>
                            Make a Payment Online
                        </a>
                    </p>
                </div>
                <p class="mt-4 text-sm">&copy; 2025 Mechanical Temp. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- CHAT BUBBLE & WIDGET -->
    <div id="chat-bubble">
        <svg class="w-8 h-8 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-3.04 8.25-6.75 8.25-1.425 0-2.756-.382-3.937-1.043a.75.75 0 01-.263-.761l.574-2.286a.75.75 0 00-.534-.686 8.25 8.25 0 01-3.243-5.468C3.04 12.25 6 4.5 10.5 4.5c4.634 0 8.25 3.04 8.25 6.75z" />
        </svg>          
    </div>

    <div id="chat-widget" class="hidden">
        <div class="chat-header">
            <h3>Chat with Us</h3>
            <button id="close-chat-btn">&times;</button>
        </div>
        <form id="chat-form">
            <div class="chat-body">
                <p>Questions? Enter your details and we'll text you back shortly!</p>
                <div class="mt-4 space-y-3">
                    <input type="text" id="chat-name" placeholder="Your Name" required class="w-full border border-slate-300 rounded-md px-3 py-2 text-sm">
                    <input type="tel" id="chat-phone" placeholder="Your Phone Number" required class="w-full border border-slate-300 rounded-md px-3 py-2 text-sm">
                </div>
                <div id="chat-confirmation" class="hidden mt-2">Message Sent! ‚úîÔ∏è</div>
            </div>
            <div class="chat-footer">
                <textarea id="chat-input" placeholder="Type your message..." rows="2" required></textarea>
                <button id="send-chat-btn" type="submit">Send Message</button>
            </div>
        </form>
    </div>
    
    <!-- =================================================================== -->
    <!-- SCHEDULER MODAL                                                     -->
    <!-- =================================================================== -->
    <div id="scheduler-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 p-4 hidden">
        <div id="hvac-scheduler-widget" class="relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden">
            <!-- Close Button -->
            <button onclick="closeScheduler()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-800 z-20">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>

            <!-- Header -->
            <div class="bg-gradient-to-r from-sky-600 to-cyan-500 text-white p-6 sm:p-8 text-center shrink-0">
                <h2 class="text-2xl sm:text-3xl font-bold">Schedule HVAC Service</h2>
                <p class="text-sm sm:text-base opacity-90 mt-1">Weekdays 8am-4pm ‚Ä¢ Weekends 10am-2pm</p>
                <div class="bg-black/20 text-xs sm:text-sm p-2 rounded-lg mt-3 inline-block">
                    üîí Secure Form ‚Ä¢ Spam Protected ‚Ä¢ Your Privacy Matters
                </div>
            </div>

            <!-- Modal Body (with scrolling) -->
            <div class="p-6 sm:p-8 overflow-y-auto modal-body">
                <!-- Progress Bar -->
                <div class="flex justify-center items-center mb-6">
                    <div id="progress-1" class="w-10 h-10 rounded-full flex items-center justify-center font-bold bg-sky-600 text-white">1</div>
                    <div class="flex-auto h-1 bg-gray-200"><div id="progress-line-1" class="h-1 bg-sky-600 w-0 transition-all duration-300"></div></div>
                    <div id="progress-2" class="w-10 h-10 rounded-full flex items-center justify-center font-bold bg-gray-200 text-gray-500">2</div>
                    <div class="flex-auto h-1 bg-gray-200"><div id="progress-line-2" class="h-1 bg-sky-600 w-0 transition-all duration-300"></div></div>
                    <div id="progress-3" class="w-10 h-10 rounded-full flex items-center justify-center font-bold bg-gray-200 text-gray-500">3</div>
                    <div class="flex-auto h-1 bg-gray-200"><div id="progress-line-3" class="h-1 bg-sky-600 w-0 transition-all duration-300"></div></div>
                    <div id="progress-4" class="w-10 h-10 rounded-full flex items-center justify-center font-bold bg-gray-200 text-gray-500">4</div>
                </div>

                <!-- Step 1: Date Selection -->
                <div id="step-1">
                    <h3 class="text-2xl font-bold text-center mb-4">Select a Date</h3>
                    <div id="calendar" class="grid grid-cols-7 gap-2"></div>
                    <div class="text-center mt-6">
                        <button id="next-btn-1" onclick="nextStep()" class="bg-sky-500 text-white font-bold py-3 px-10 rounded-lg disabled:bg-gray-300" disabled>Next Step</button>
                    </div>
                </div>

                <!-- Step 2: Time Selection -->
                <div id="step-2" class="hidden">
                    <h3 class="text-2xl font-bold text-center mb-4">Select a Time</h3>
                    <div class="bg-slate-100 p-4 rounded-lg text-center mb-4">
                        <h4 class="font-semibold">Selected Date: <span id="selected-date"></span></h4>
                    </div>
                    <div id="time-slots" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mb-6"></div>
                    <div class="flex justify-center gap-4 mt-6">
                        <button onclick="prevStep()" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-10 rounded-lg">Back</button>
                        <button id="next-btn-2" onclick="nextStep()" class="bg-sky-500 text-white font-bold py-3 px-10 rounded-lg disabled:bg-gray-300" disabled>Next Step</button>
                    </div>
                </div>
                
                <!-- Step 3: Information Form -->
                <div id="step-3" class="hidden">
                    <h3 class="text-2xl font-bold text-center mb-4">Your Information</h3>
                    <div class="bg-slate-100 p-4 rounded-lg mb-4">
                        <h4 class="font-semibold text-center">Appointment Details:</h4>
                        <p class="text-center text-sm"><strong class="mr-2">Date:</strong><span id="confirm-date"></span><strong class="mx-2">Time:</strong><span id="confirm-time"></span></p>
                    </div>
                    <form id="contact-form" class="space-y-4">
                        <div><label class="font-semibold">Service Needed *</label><select id="service-type" name="service-type" required class="w-full mt-1 p-3 border border-gray-300 rounded-lg"><option value="">Select Service Type</option><option value="AC Repair">AC Repair</option><option value="AC Installation">AC Installation</option><option value="AC Maintenance">AC Maintenance</option><option value="Heating Repair">Heating Repair</option><option value="Heating Installation">Heating Installation</option><option value="Heating Maintenance">Heating Maintenance</option><option value="Duct Work">Duct Work</option><option value="Emergency Service">Emergency Service</option><option value="Other">Other (specify in notes)</option></select></div>
                        <div><label class="font-semibold">Full Name *</label><input type="text" id="name" name="name" required class="w-full mt-1 p-3 border border-gray-300 rounded-lg"></div>
                        <div><label class="font-semibold">Email Address *</label><input type="email" id="email" name="email" required class="w-full mt-1 p-3 border border-gray-300 rounded-lg"></div>
                        <div><label class="font-semibold">Phone Number *</label><input type="tel" id="phone" name="phone" required class="w-full mt-1 p-3 border border-gray-300 rounded-lg"></div>
                        <div><label class="font-semibold">Service Address *</label><input type="text" id="address" name="address" placeholder="Where do you need service?" required class="w-full mt-1 p-3 border border-gray-300 rounded-lg"></div>
                        <div><label class="font-semibold">Problem Description / Notes</label><textarea id="message" name="message" rows="3" placeholder="Please describe the HVAC issue..." class="w-full mt-1 p-3 border border-gray-300 rounded-lg"></textarea></div>
                        <div><label class="font-semibold">Security Check: What is <span id="math-question"></span>? *</label><input type="number" id="captcha" name="captcha" required placeholder="Enter the answer" class="w-full mt-1 p-3 border border-gray-300 rounded-lg"></div>
                        <div><label class="flex items-center cursor-pointer"><input type="checkbox" id="terms" name="terms" required class="mr-2 h-4 w-4"> I confirm this is a genuine service request.</label></div>
                    </form>
                    <div class="flex justify-center gap-4 mt-6">
                        <button onclick="prevStep()" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-10 rounded-lg">Back</button>
                        <button id="submit-btn" onclick="submitAppointment()" class="bg-sky-500 hover:bg-sky-600 text-white font-bold py-3 px-10 rounded-lg">Book Appointment</button>
                    </div>
                </div>

                <!-- Step 4: Confirmation Screen -->
                <div id="step-4" class="hidden">
                    <div class="text-center p-6">
                        <div class="text-6xl text-green-500 mb-4">‚úì</div>
                        <h3 class="text-2xl font-bold">Service Request Submitted!</h3>
                        <p class="text-slate-600 mt-2">Thank you! We've received your request and will contact you shortly to confirm.</p>
                        <div class="bg-slate-100 p-4 rounded-lg text-left mt-6 text-sm">
                            <h4 class="font-bold text-center mb-2">Your Service Request:</h4>
                            <p><strong>Service:</strong> <span id="final-service"></span></p>
                            <p><strong>Date:</strong> <span id="final-date"></span></p>
                            <p><strong>Time:</strong> <span id="final-time"></span></p>
                            <p><strong>Address:</strong> <span id="final-address"></span></p>
                            <p><strong>Name:</strong> <span id="final-name"></span></p>
                            <p><strong>Email:</strong> <span id="final-email"></span></p>
                            <p><strong>Phone:</strong> <span id="final-phone"></span></p>
                        </div>
                        <div class="mt-6">
                            <button onclick="closeScheduler(true)" class="bg-sky-500 hover:bg-sky-600 text-white font-bold py-3 px-10 rounded-lg">Done</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
    // SCHEDULER MODAL LOGIC (Identical to other pages)
    const schedulerModal=document.getElementById("scheduler-modal");function openScheduler(){schedulerModal.classList.remove("hidden"),document.body.style.overflow="hidden"}function closeScheduler(e=!1){schedulerModal.classList.add("hidden"),document.body.style.overflow="auto",e&&resetForm()}schedulerModal.addEventListener("click",function(e){e.target===schedulerModal&&closeScheduler()}),emailjs.init("IJHcoSxlSQ9OPOJGS");let currentStep=1,selectedDate=null,selectedTime=null,appointmentData={},mathAnswer=0;const weekdayTimeSlots=["8:00 AM","9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM"],weekendTimeSlots=["10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM"],unavailableDates=[];function generateCalendar(){const e=document.getElementById("calendar");e.innerHTML="";const t=new Date;t.setHours(0,0,0,0);["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].forEach(t=>{e.innerHTML+=`<div class="text-center font-semibold text-sm text-gray-500 p-2">${t}</div>`});const n=new Date(t.getFullYear(),t.getMonth(),1),o=n.getDay();for(let l=0;l<o;l++)e.insertAdjacentHTML("beforeend","<div></div>");for(let d=0;d<42;d++){const c=new Date(n);c.setDate(n.getDate()+d);const a=c.toISOString().split("T")[0],s=unavailableDates.includes(a)||c<t,r=document.createElement("div");r.className="text-center p-2 rounded-lg cursor-pointer transition-all duration-200",s?(r.classList.add("bg-gray-100","text-gray-300","cursor-not-allowed"),r.innerHTML=`<div class="font-bold text-lg">${c.getDate()}</div>`):(r.classList.add("border","border-gray-200","hover:bg-sky-100","hover:border-sky-500"),r.onclick=()=>selectDate(c,r),r.innerHTML=`<div class="text-xs text-gray-400">${c.toLocaleDateString("en",{month:"short"})}</div><div class="font-bold text-lg">${c.getDate()}</div>`),e.appendChild(r)}}function selectDate(e,t){document.querySelectorAll("#calendar .bg-sky-500").forEach(e=>{e.classList.remove("bg-sky-500","text-white","border-sky-500"),e.classList.add("border-gray-200")}),t.classList.add("bg-sky-500","text-white","border-sky-500"),t.classList.remove("border-gray-200"),selectedDate=e,document.getElementById("next-btn-1").disabled=!1,document.getElementById("selected-date").textContent=e.toLocaleDateString("en",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function generateTimeSlots(){const e=document.getElementById("time-slots");e.innerHTML="";const t=selectedDate.getDay(),n=0===t||6===t?weekendTimeSlots:weekdayTimeSlots;n.forEach(t=>{const o=document.createElement("div");o.className="p-3 text-center border-2 border-gray-300 rounded-lg cursor-pointer hover:border-sky-500 hover:bg-sky-100 font-semibold",o.textContent=t,o.onclick=()=>selectTime(t,o),e.appendChild(o)})}function selectTime(e,t){document.querySelectorAll("#time-slots .bg-sky-500").forEach(e=>{e.classList.remove("bg-sky-500","text-white","border-sky-500"),e.classList.add("border-gray-300")}),t.classList.add("bg-sky-500","text-white","border-sky-500"),t.classList.remove("border-gray-300"),selectedTime=e,document.getElementById("next-btn-2").disabled=!1,document.getElementById("confirm-date").textContent=selectedDate.toLocaleDateString("en",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),document.getElementById("confirm-time").textContent=e}function updateProgress(){for(let e=1;e<=4;e++){const t=document.getElementById(`progress-${e}`),n=document.getElementById(`progress-line-${e-1}`);t.classList.remove("bg-sky-600","text-white","bg-green-500"),t.classList.add("bg-gray-200","text-gray-500"),e<currentStep?(t.classList.remove("bg-gray-200","text-gray-500"),t.classList.add("bg-green-500","text-white"),n&&n.classList.add("w-full","bg-green-500")):e===currentStep?(t.classList.remove("bg-gray-200","text-gray-500"),t.classList.add("bg-sky-600","text-white"),n&&n.classList.remove("w-full","bg-green-500")):n&&n.classList.remove("w-full","bg-green-500")}}function showStep(e){document.getElementById("step-1").classList.add("hidden"),document.getElementById("step-2").classList.add("hidden"),document.getElementById("step-3").classList.add("hidden"),document.getElementById("step-4").classList.add("hidden"),document.getElementById(`step-${e}`).classList.remove("hidden")}function nextStep(){(1!==currentStep||selectedDate)&&(2!==currentStep||selectedTime)&&(currentStep++,showStep(currentStep),updateProgress(),2===currentStep&&generateTimeSlots())}function prevStep(){1!==currentStep&&(currentStep--,showStep(currentStep),updateProgress())}function generateMathCaptcha(){const e=Math.floor(10*Math.random())+1,t=Math.floor(10*Math.random())+1;document.getElementById("math-question").textContent=`${e} + ${t}`,mathAnswer=e+t}function validateCaptcha(){const e=parseInt(document.getElementById("captcha").value);return e!==mathAnswer?(alert("Security check failed. Please solve the math problem correctly."),generateMathCaptcha(),document.getElementById("captcha").value="",!1):!0}function submitAppointment(){const e=document.getElementById("contact-form");if(!e.checkValidity()||!validateCaptcha())return void e.reportValidity();const t=new FormData(e);appointmentData={date:selectedDate.toLocaleDateString("en",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),time:selectedTime,serviceType:t.get("service-type"),name:t.get("name"),email:t.get("email"),phone:t.get("phone"),address:t.get("address"),message:t.get("message")||"No additional notes"};const n=document.getElementById("submit-btn");n.disabled=!0,n.textContent="Sending...",sendAppointmentEmail(appointmentData)}function sendAppointmentEmail(e){const t={to_email:"office@mechanicaltemp.com",cc_email:"mthvacr@gmail.com",bcc_email:"3132824758@vtext.com,3136004012@vtext.com",from_name:e.name,from_email:e.email,phone:e.phone,service_type:e.serviceType,service_address:e.address,appointment_date:e.date,appointment_time:e.time,message:e.message,subject:`üîß HVAC Service: ${e.serviceType} - ${e.date} ${e.time}`};emailjs.send("service_ziwf1pg","template_q5fbhd8",t).then(function(e){console.log("Email sent successfully:",e),showConfirmation()},function(e){console.log("Email failed:",e),alert("There was an error submitting your request. Please try again.");const t=document.getElementById("submit-btn");t.disabled=!1,t.textContent="Book Appointment"})}function showConfirmation(){document.getElementById("final-service").textContent=appointmentData.serviceType,document.getElementById("final-date").textContent=appointmentData.date,document.getElementById("final-time").textContent=appointmentData.time,document.getElementById("final-address").textContent=appointmentData.address,document.getElementById("final-name").textContent=appointmentData.name,document.getElementById("final-email").textContent=appointmentData.email,document.getElementById("final-phone").textContent=appointmentData.phone,nextStep()}function resetForm(){currentStep=1,selectedDate=null,selectedTime=null,document.getElementById("contact-form").reset(),showStep(1),updateProgress(),document.getElementById("next-btn-1").disabled=!0,document.getElementById("next-btn-2").disabled=!0;const e=document.getElementById("submit-btn");e.disabled=!1,e.textContent="Book Appointment",generateCalendar(),generateMathCaptcha()}
    
    // --- RESPONSIVE HEADER & CHAT WIDGET SCRIPT ---
    const chatBubble = document.getElementById('chat-bubble');
    const chatWidget = document.getElementById('chat-widget');
    const closeChatBtn = document.getElementById('close-chat-btn');
    const chatForm = document.getElementById('chat-form');
    const chatConfirmation = document.getElementById('chat-confirmation');
    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');

    mobileMenuBtn.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });

    document.querySelectorAll('.mobile-link').forEach(link => {
        link.addEventListener('click', () => {
            mobileMenu.classList.add('hidden');
        });
    });

    function toggleChatWidget() {
        chatWidget.classList.toggle('hidden');
        if (!chatWidget.classList.contains('hidden')) {
            chatConfirmation.classList.add('hidden');
            chatForm.reset();
        }
    }

    chatBubble.addEventListener('click', toggleChatWidget);
    closeChatBtn.addEventListener('click', toggleChatWidget);
    
    chatForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const sendChatBtn = document.getElementById('send-chat-btn');
        sendChatBtn.disabled = true;
        sendChatBtn.textContent = 'Sending...';

        const chatData = {
            from_name: document.getElementById('chat-name').value,
            phone: document.getElementById('chat-phone').value,
            message: document.getElementById('chat-input').value,
        };
        
        // **FINAL FIX**: The chat widget now uses its own dedicated template ID.
        const chatTemplateID = 'template_j68qyhk';

        emailjs.send('service_ziwf1pg', chatTemplateID, chatData)
            .then(function(response) {
                console.log('Chat message sent successfully:', response);
                chatConfirmation.classList.remove('hidden');
                // Don't close the widget automatically, let the user close it.
            }, function(error) {
                console.log('Chat message failed:', error);
                alert('Sorry, the message could not be sent. Please try again.');
            })
            .finally(function() {
                sendChatBtn.disabled = false;
                sendChatBtn.textContent = 'Send Message';
            });
    });
    </script>
</body>
</html>

